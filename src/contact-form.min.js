const cfConfig={cssBase:getElemById("contactform").src.split("/src")[0],error:{title:"😞 خطا",message:getElemById("contactform").getAttribute("error_text")||"با عرض پوزش، هنگام دریافت پیام شما خطایی رخ داد، سعی کنید با روش دیگری با من تماس بگیرید."},success:{title:"پیام ارسال شد 😉",message:getElemById("contactform").getAttribute("success_text")||"از اینکه با من تماس گرفتید متشکرم، به زودی با شما تماس خواهم گرفت."}},cfbody='\n<div class="box right-button" id="cf" style="display: inline-block; z-index: 9999;">\n\t<div class="button color" onclick="cfClick();"><span class="m-cf-icon-default"><i class="material-icons">email</i></span><span class="icon"><i class="material-icons">close</i></span></div>\n\t<div class="panel" id="cfcontent"></div>\n</div>\n',cfform='\n<h3 class="title">تماس باما</h3>\n<p>به من پیام دهید به زودی با شما تماس خواهم گرفت.</p>\n<div>\n\t<input class="element" onchange="cfonChange(\'cfname\')" id="cfname" type="text" name="name" placeholder="نام" autocomplete="off">\n\t<input class="element" onchange="cfonChange(\'cfemail\')" id="cfemail" type="text" name="email" placeholder="ایمیل" autocomplete="off">\n\t<input class="element" onchange="cfonChange(\'cfphone\')" id="cfphone" type="number" name="phoneno" placeholder="تلفن همراه" autocomplete="off">\n\t<input class="element" onchange="cfonChange(\'cfsubject\')" id="cfsubject" type="text" name="subject" placeholder="موضوع" autocomplete="off">\n\t<textarea class="element" onchange="cfonChange(\'cfmessage\')" id="cfmessage" name="message" placeholder="پیام شما"></textarea>\n\t<button id="cfbutton" onclick="cfSubmitMessage()" class="form-button color">ارسال پیام شما</button><a href="https://github.com/mamalli11/Contact-Form" class="cfpromo">Powered by Contact Form</a>\n</div>\n';function cfClick(){getElemById("cf").classList.toggle("showing-state"),getElemById("cf").classList.toggle("showing")}async function cfSubmitMessage(){var e={name:getElemById("cfname").value,email:getElemById("cfemail").value.toLowerCase(),phone_no:getElemById("cfphone").value,subject:getElemById("cfsubject").value,message:getElemById("cfmessage").value};if(""===e.name)getElemById("cfname").classList.add("error");else if(/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/.test(e.email))if(""===e.phone_no)getElemById("cfphone").classList.add("error");else if(""===e.subject)getElemById("cfsubject").classList.add("error");else if(""===e.message)getElemById("cfmessage").classList.add("error");else{getElemById("cfbutton").removeAttribute("onclick"),getElemById("cfbutton").classList.remove("color"),getElemById("cfbutton").classList.add("onclick"),getElemById("cfbutton").innerHTML="Sending...";try{if(!(await(await fetch(document.getElementById("contactform").getAttribute("form_worker_url"),{method:"POST",body:JSON.stringify(e)})).json()).status)throw new Error("Error");getElemById("cfcontent").innerHTML=createHtmlFromObj(cfConfig.success),localStorage.setItem("contact-form",JSON.stringify({sent:!0,canSendUnix:(new Date).getTime()+432e5}))}catch(e){console.log(e),getElemById("cfcontent").innerHTML=createHtmlFromObj(cfConfig.error)}}else getElemById("cfemail").classList.add("error")}function cfonChange(e){getElemById(e).classList.remove("error")}function getElemById(e){return document.getElementById(e)}function createHtmlFromObj({title:e,message:t}){return`<h3 class="title">${e}</h3><p>${t}</p>`}window.onload=()=>{var e=document.createElement("link");e.rel="stylesheet",e.href=`${cfConfig.cssBase}/src/style.min.css`,document.getElementsByTagName("head")[0].appendChild(e),e.onload=function(){var e=document.createElement("section");e.classList.add("contact-form-cf"),e.innerHTML=cfbody,document.getElementsByTagName("body")[0].appendChild(e);var t=JSON.parse(localStorage.getItem("contact-form"));"true"!==getElemById("contactform").getAttribute("disable_waittime")&&t&&t.sent&&t.canSendUnix>(new Date).getTime()?getElemById("cfcontent").innerHTML=createHtmlFromObj(cfConfig.success):getElemById("cfcontent").innerHTML=cfform}};